# flake8

flake8은 코드 스타일을 검사 또는 가이드 해주는 파이썬 패키지

기본적으로 PEP8(Python Enhance Proposal 8)의 코드 스타일 가이드(코딩 컨벤션) 대로 검사해주며, 원하는 가이드만 설정하여 검사시킬 수도 있다.

`pip install flake8` 

로 설치가 가능

 
```python
flake.py 

def print_helloworld():
	print("Hello world!")

print_helloworld()
a=1
a+=1
print(a)
```

아무렇게나 파일을 만든 후 아래와 같이 해보자

`flake8 flake.py`

```
flake.py:2:1: W191 indentation contains tabs
flake.py:4:1: E305 expected 2 blank lines after class or function definition, found 1
flake.py:5:2: E225 missing whitespace around operator
flake.py:6:2: E225 missing whitespace around operator
flake.py:7:9: W292 no newline at end of file
```

대충 indentation을 tab으로 했다는둥, 파일 끝에 newline이 없다는 둥 PEP8에 맞게 가이드 해준다.

알맞게 수정해보자

```python
def print_helloworld():
    print("Hello world!")


print_helloworld()
a = 1
a += 1
print(a)

```

`flake8 flake.py`

```

```

`flake8 ${directory}` 도 가능  
프로젝트 내에서 `flake8 .`을 하면 전부 검사



## flake8 설정

일부 규칙을 빼고 싶거나 프로젝트마다 다르게 검사하고 싶으면 설정 파일을 만들어야 함.

기본적으로 설정되는 걸 변경하고 싶으면 윈도우에서는 사용자 기본 폴더에 .flake파일을 (~/.flake) 만들어야 하고, 

맥이나 리눅스에서는 config폴더 안에 .flake파일을(~/config/.flake) 만들어야 함

다음으로 하나의 디렉토리 또는 프로젝트의 검사를 설정하려면, 그 루트 디렉토리 또는 프로젝트에 .flake8, tox.ini, setup.cfg 중 하나의 파일을 만들면 된다.

아래와 같이 설정 할 수 있음

`.flake8`

```
[flake8]
# F812: list comprehension redefines ...
# H101: Use TODO(NAME)
# H202: assertRaises Exception too broad
# H233: Python 3.x incompatible use of print operator
# H301: one import per line
# H306: imports not in alphabetical order (time, os)
# H401: docstring should not start with a space
# H403: multi line docstrings should end on a new line
# H404: multi line docstring should start without a leading new line
# H405: multi line docstring summary not separated with an empty line
# H501: Do not use self.__dict__ for string formatting

ignore = F812,H101,H202,H233
exclude =
    # No need to traverse our git directory
    .git,
    # There's no value in checking cache directories
    __pycache__,
    # The conf file is mostly autogenerated, ignore it
    docs/source/conf.py,
    # The old directory contains Flake8 2.0
    old,
    # This contains our built documentation
    build,
    # This contains builds of flake8 that we don't want to check
    dist
max-complexity = 10
```

맨 위에 [flake8]을 넣어줘야함

ignore는 사용하지 않을 검사, exclude는 검사하지 않을 파일이나 디렉토리 임


# Reference

http://guswnsxodlf.github.io/about-flake8  
https://flake8.pycqa.org/en/latest/
